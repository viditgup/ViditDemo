"use strict";(globalThis["webpackChunktruetryout"]=globalThis["webpackChunktruetryout"]||[]).push([[251],{9251:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ve});var l=a(9835);const o=e=>((0,l.dD)("data-v-ac8a1974"),e=e(),(0,l.Cn)(),e),s=o((()=>(0,l._)("div",{class:"q-ma-md"},[(0,l._)("strong",{class:"text-h5 q-ma-md color-primary"},"New Event")],-1))),n={class:"row"},i={class:"col"},r={class:"q-pa-xs q-pr-xl"},d={class:"col-3 col-sm-6"},c={class:"q-gutter-y-md q-ml-xl column col"},u={class:"row justify-center"},m={class:"col col-md-4"},v={class:"row justify-center"},p={class:"col col-md-4"},h={class:"row justify-center"},y={class:"col col-md-4"},f={class:"row justify-center"},V={class:"col col-md-4"},g={class:"row justify-center"},_={class:"col col-md-4"},w={class:"row justify-center"},S={class:"col col-md-4"},b={class:"row justify-center"},T={class:"col col-md-4"},U={class:"row justify-center"},E={class:"col col-md-4"},D={class:"row justify-center"},O={class:"col col-md-4"},C={class:"row justify-center"},j={class:"col col-md-4"},F={class:"row justify-center"},W={class:"col col-md-4"},I={class:"row justify-center"},Z={class:"col col-md-4"},z={class:"row justify-center"},N={class:"col col-md-4"},k={class:"row justify-center"},x={class:"col col-md-4"},q={class:"row justify-center"},J={class:"col col-md-4"},$={class:"row justify-center"},A={class:"col col-md-4"},Y={class:"row justify-center"},B={class:"col col-md-4"},Q={class:"row justify-center"},R={class:"col col-md-4"},M={class:"row justify-center"},P={class:"col col-md-4"},H={class:"row justify-center"},K={class:"col col-md-4"},L={class:"q-gutter-y-md column col"};function G(e,t,a,o,G,X){const ee=(0,l.up)("q-input"),te=(0,l.up)("q-select"),ae=(0,l.up)("q-icon"),le=(0,l.up)("q-file"),oe=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",null,[s,(0,l._)("div",n,[(0,l._)("div",i,[(0,l._)("div",null,[(0,l._)("div",r,[(0,l._)("div",d,[(0,l._)("div",c,[(0,l._)("div",u,[(0,l._)("div",m,[(0,l.Wm)(ee,{color:"teal",outlined:"",modelValue:G.event.name,"onUpdate:modelValue":t[0]||(t[0]=e=>G.event.name=e),label:"Event Name *"},null,8,["modelValue"])])]),(0,l._)("div",v,[(0,l._)("div",p,[(0,l.Wm)(te,{outlined:"","virtual-scroll-slice-size":"60",modelValue:G.event.sport,"onUpdate:modelValue":t[1]||(t[1]=e=>G.event.sport=e),options:this.sports,label:"Sport *","lazy-rules":""},null,8,["modelValue","options"])])]),(0,l._)("div",h,[(0,l._)("div",y,[(0,l.Wm)(ee,{type:"date",color:"teal",min:G.todaysDate,outlined:"",modelValue:G.event.dateFrom,"onUpdate:modelValue":t[2]||(t[2]=e=>G.event.dateFrom=e),"stack-label":"",label:"Date of Event From *",onChange:X.minDate},null,8,["min","modelValue","onChange"])])]),(0,l._)("div",f,[(0,l._)("div",V,[(0,l.Wm)(ee,{type:"date",color:"teal",outlined:"",modelValue:G.event.dateTo,"onUpdate:modelValue":t[3]||(t[3]=e=>G.event.dateTo=e),label:"Date of Event To *","stack-label":"",min:G.minDateVar,max:G.maxDateVar,onChange:X.fromDateCheck},null,8,["modelValue","min","max","onChange"])])]),(0,l._)("div",g,[(0,l._)("div",_,[(0,l.Wm)(te,{outlined:"",color:"teal","virtual-scroll-slice-size":"60",modelValue:G.ageFrom,"onUpdate:modelValue":t[4]||(t[4]=e=>G.ageFrom=e),options:this.agegrups,label:"Age *"},null,8,["modelValue","options"])])]),(0,l._)("div",w,[(0,l._)("div",S,[(0,l.Wm)(ee,{color:"teal",outlined:"",modelValue:G.event.organization,"onUpdate:modelValue":t[5]||(t[5]=e=>G.event.organization=e),label:"Organization Name "},null,8,["modelValue"])])]),(0,l._)("div",b,[(0,l._)("div",T,[(0,l.Wm)(ee,{color:"teal",outlined:"",modelValue:G.event.organizationWeb,"onUpdate:modelValue":t[6]||(t[6]=e=>G.event.organizationWeb=e),label:"Organization Website "},null,8,["modelValue"])])]),(0,l._)("div",U,[(0,l._)("div",E,[(0,l.Wm)(ee,{color:"teal",outlined:"",modelValue:G.event.evaluationYear,"onUpdate:modelValue":t[7]||(t[7]=e=>G.event.evaluationYear=e),label:"Evaluation for Year *"},null,8,["modelValue"])])]),(0,l._)("div",D,[(0,l._)("div",O,[(0,l.Wm)(ee,{color:"teal",outlined:"",modelValue:G.event.evaluationSeason,"onUpdate:modelValue":t[8]||(t[8]=e=>G.event.evaluationSeason=e),label:"Evaluation for Season *"},null,8,["modelValue"])])]),(0,l._)("div",C,[(0,l._)("div",j,[(0,l.Wm)(ee,{color:"teal",outlined:"",modelValue:G.event.location,"onUpdate:modelValue":t[9]||(t[9]=e=>G.event.location=e),label:"Tryout Location *"},null,8,["modelValue"])])]),(0,l._)("div",F,[(0,l._)("div",W,[(0,l.Wm)(ee,{color:"teal",outlined:"",modelValue:G.event.addressOne,"onUpdate:modelValue":t[10]||(t[10]=e=>G.event.addressOne=e),label:"Tryout Address 1 *"},null,8,["modelValue"])])]),(0,l._)("div",I,[(0,l._)("div",Z,[(0,l.Wm)(ee,{color:"teal",outlined:"",modelValue:G.event.addressTwo,"onUpdate:modelValue":t[11]||(t[11]=e=>G.event.addressTwo=e),label:"Tryout Address 2 "},null,8,["modelValue"])])]),(0,l._)("div",z,[(0,l._)("div",N,[(0,l.Wm)(te,{color:"teal",outlined:"",options:G.states,modelValue:G.state,"onUpdate:modelValue":t[12]||(t[12]=e=>G.state=e),"option-label":"name","option-value":"isoCode","virtual-scroll-slice-size":"100",label:"Tryout State *"},null,8,["options","modelValue"])])]),(0,l._)("div",k,[(0,l._)("div",x,[(0,l.Wm)(ee,{color:"teal",outlined:"",modelValue:G.city,"onUpdate:modelValue":t[13]||(t[13]=e=>G.city=e),label:"Tryout City *"},null,8,["modelValue"])])]),(0,l._)("div",q,[(0,l._)("div",J,[(0,l.Wm)(ee,{color:"teal",outlined:"",modelValue:G.event.zip,"onUpdate:modelValue":t[14]||(t[14]=e=>G.event.zip=e),label:"Tryout Zipcode *"},null,8,["modelValue"])])]),(0,l._)("div",$,[(0,l._)("div",A,[(0,l.Wm)(ee,{"stack-label":"",type:"time",color:"teal",outlined:"",modelValue:G.event.checkinTime,"onUpdate:modelValue":t[15]||(t[15]=e=>G.event.checkinTime=e),label:"Check-in time *"},null,8,["modelValue"])])]),(0,l._)("div",Y,[(0,l._)("div",B,[(0,l.Wm)(ee,{color:"teal",type:"number",maxlength:"4",outlined:"",min:"0",modelValue:G.event.cost,"onUpdate:modelValue":t[16]||(t[16]=e=>G.event.cost=e),label:"Player Registration Fee *"},null,8,["modelValue"])])]),(0,l._)("div",Q,[(0,l._)("div",R,[(0,l.Wm)(ee,{color:"teal",type:"textarea",outlined:"",modelValue:G.event.additionalInfo,"onUpdate:modelValue":t[17]||(t[17]=e=>G.event.additionalInfo=e),label:"Additional Info"},null,8,["modelValue"])])]),(0,l._)("div",M,[(0,l._)("div",P,[(0,l.Wm)(le,{clearable:"",type:"file",accept:".jpg, image/*","max-file-size":"1000000",label:"Pick Flyer Image",outlined:"",modelValue:G.flyer,"onUpdate:modelValue":t[18]||(t[18]=e=>G.flyer=e),onRejected:X.onRejected},{prepend:(0,l.w5)((()=>[(0,l.Wm)(ae,{name:"attach_file"})])),_:1},8,["modelValue","onRejected"])])]),(0,l._)("div",H,[(0,l._)("div",K,[(0,l._)("div",L,[(0,l.Wm)(oe,{onClick:X.saveEvents,class:"btn-primary",label:"SUBMIT"},null,8,["onClick"])])])])])])])])])])])}a(8964),a(2809);var X=a(3100),ee=a(1503),te=a(8475),ae=a(511);const le={data(){return{states:ee.ZP.getStatesOfCountry("US"),cities:null,todaysDate:(new Date).toISOString().slice(0,10),endDate:(new Date).toISOString().slice(0,10),minDateVar:(new Date).toISOString().slice(0,10),maxDateVar:null,event:{name:"",sport:"Baseball",dateFrom:"",dateTo:"",ageFrom:"",organization:"",organizationWeb:"",evaluationYear:"",location:"",city:"",state:"",zip:"",addressOne:"",addressTwo:"",checkinTime:null,cost:"",additionalInfo:"",evaluationSeason:"",status:"ACTIVE",coachId:JSON.parse(this.$store.state.User.user).id,flyer:""},flyer:"",ageFrom:"",agegrups:[],city:"",sport:null,sports:["Baseball","SoftBall"],usertype:null,age:null,state:null,gender:null,firstname:null,middlename:null,lastname:null,dob:null,phone:null,email:null,isValid:!1,signup_success:!1,unsubscribe:"",countryCode:"+1 "}},watch:{state:function(e,t){var a=JSON.stringify(e);this.event.state=JSON.parse(a).name,this.updateCities(JSON.parse(a).isoCode)}},destroyed(){this.unsubscribe()},created(){for(var e=6;e<=18;e++)this.agegrups.push(e+"U");var t=14,a=new Date,l=new Date(a.getFullYear(),a.getMonth(),a.getDate()+t).toISOString().slice(0,10);this.endDate=l,JSON.parse(this.$store.state.User.user)&&JSON.parse(this.$store.state.User.user).organization&&(this.event.organization=JSON.parse(this.$store.state.User.user).organization),this.unsubscribe=this.$store.subscribe(((e,t)=>{"User/setSessionId"===e.type&&e.payload&&this.$router.push("/pay"),"User/setApplyEvent"===e.type&&e.payload&&this.initiateTransaction(JSON.parse(e.payload).id)}))},methods:{...(0,X.nv)("User",["saveEvent","initiateTxn"]),updateCities(e){this.cities=te.Z.getCitiesOfState("US",e)},fromDateCheck(){this.event.dateFrom||(this.event.dateTo=null)},minDate(){this.minDateVar=this.event.dateFrom;var e=14,t=new Date(this.minDateVar),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()+e).toISOString().slice(0,10);this.maxDateVar=a},onRejected(){ae.Z.showToast("Flyer image should be less than 1 Mb","E")},saveEvents(){if(this.city&&this.city.name?this.event.city=this.city.name:this.event.city=this.city,this.state&&this.state.name&&(this.event.state=this.state.name),this.ageFrom&&(this.event.ageFrom=this.ageFrom,this.event.ageFrom=this.event.ageFrom.replaceAll("U","")),!this.event.name)return void ae.Z.showToast("Enter Event name","E");if(!this.event.sport)return void ae.Z.showToast("Select Sport","E");if(!this.event.dateFrom)return void ae.Z.showToast("Select date from","E");if(!this.event.dateTo)return void ae.Z.showToast("Select date to","E");if(!this.event.ageFrom)return void ae.Z.showToast("Select age","E");if(!this.event.evaluationYear)return void ae.Z.showToast("Enter evaluation year","E");if(!this.event.evaluationSeason)return void ae.Z.showToast("Enter evaluation season","E");if(!this.event.location)return void ae.Z.showToast("Enter tryout location","E");if(!this.event.addressOne)return void ae.Z.showToast("Enter address one","E");if(!this.event.state)return void ae.Z.showToast("Select state","E");if(!this.event.city)return void ae.Z.showToast("Select city","E");if(!this.event.zip)return void ae.Z.showToast("Enter zip","E");this.event.city=this.city.name;const e=new FormData;e.append("data",JSON.stringify(this.event)),this.flyer&&this.flyer[0]&&e.append("file",this.flyer[0]);var t={data:e,type:"Create"};this.saveEvent(t)},initiateTransaction(e){var t=19.99*100,a={name:JSON.parse(this.$store.state.User.user).lastName+" "+JSON.parse(this.$store.state.User.user).firstName,currency:"usd",successUrl:location.origin+"/paymentSuccess?session_id={CHECKOUT_SESSION_ID}",cancelUrl:location.origin+"/paymentError?session_id={CHECKOUT_SESSION_ID}",amount:t,quantity:"1",userId:JSON.parse(this.$store.state.User.user).id,eventId:e,paymentFor:"create event"};this.initiateTxn(a)}}};var oe=a(1639),se=a(3119),ne=a(2259),ie=a(3837),re=a(2857),de=a(8879),ce=a(9984),ue=a.n(ce);const me=(0,oe.Z)(le,[["render",G],["__scopeId","data-v-ac8a1974"]]),ve=me;ue()(le,"components",{QInput:se.Z,QSelect:ne.Z,QFile:ie.Z,QIcon:re.Z,QBtn:de.Z})}}]);